{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useContext } from 'react';\nimport AuthContext from '../context/AuthContext';\nimport { useNavigate } from 'react-router';\nconst useAuth = () => {\n  _s();\n  const {\n    AuthState,\n    AuthDispatch\n  } = useContext(AuthContext);\n  const navigate = useNavigate();\n  const Login = async (email, password) => {\n    try {\n      const LoginFetch = await fetch('http://localhost:8080/api/user/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email,\n          password\n        })\n      });\n      if (!LoginFetch.ok) {\n        const errorData = await LoginFetch.json();\n        throw new Error(errorData.message || \"Giriş başarısız oldu.\");\n      }\n      const data = await LoginFetch.json();\n      AuthDispatch({\n        type: 'LOGIN',\n        payload: {\n          token: data.token,\n          user: data.user\n        }\n      });\n      localStorage.setItem('user', JSON.stringify(data));\n      navigate('/'); // Giriş başarılıysa yönlendirme\n    } catch (error) {\n      console.error(\"Giriş Hatası:\", error.message);\n      return error.message;\n    }\n  };\n  const Register = async (nameemail, password) => {\n    try {\n      const LoginFetch = await fetch('http://localhost:8080/api/user/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email,\n          password\n        })\n      });\n      if (!LoginFetch.ok) {\n        const errorData = await LoginFetch.json();\n        throw new Error(errorData.message || \"Giriş başarısız oldu.\");\n      }\n      const data = await LoginFetch.json();\n      AuthDispatch({\n        type: 'LOGIN',\n        payload: {\n          token: data.token,\n          user: data.user\n        }\n      });\n      localStorage.setItem('user', JSON.stringify(data));\n      navigate('/'); // Giriş başarılıysa yönlendirme\n    } catch (error) {\n      console.error(\"Giriş Hatası:\", error.message);\n      return error.message;\n    }\n  };\n  const Logout = () => {\n    AuthDispatch({\n      type: 'LOGOUT'\n    });\n    localStorage.removeItem('user');\n    navigate('/login');\n  };\n  return {\n    AuthState,\n    Login,\n    Logout\n  };\n};\n_s(useAuth, \"YA5Uejm1UU63yJXhJgfKwIscgcU=\", false, function () {\n  return [useNavigate];\n});\nexport default useAuth;","map":{"version":3,"names":["useContext","AuthContext","useNavigate","useAuth","_s","AuthState","AuthDispatch","navigate","Login","email","password","LoginFetch","fetch","method","headers","body","JSON","stringify","ok","errorData","json","Error","message","data","type","payload","token","user","localStorage","setItem","error","console","Register","nameemail","Logout","removeItem"],"sources":["C:/Users/mkere/Desktop/Mern-Stack-Uygulamaları/notUygulaması/frontend/src/hooks/useAuth.jsx"],"sourcesContent":["import { useContext } from 'react';\r\nimport AuthContext from '../context/AuthContext'\r\nimport { useNavigate } from 'react-router';\r\n\r\n\r\n\r\nconst useAuth = () => {\r\n    const { AuthState, AuthDispatch } = useContext(AuthContext);\r\n    const navigate = useNavigate();\r\n\r\n    const Login = async (email, password) => {\r\n        try {\r\n            const LoginFetch = await fetch('http://localhost:8080/api/user/login', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({ email, password }),\r\n            });\r\n\r\n            if (!LoginFetch.ok) {\r\n                const errorData = await LoginFetch.json();\r\n                throw new Error(errorData.message || \"Giriş başarısız oldu.\");\r\n            }\r\n\r\n            const data = await LoginFetch.json();\r\n            AuthDispatch({\r\n                type: 'LOGIN',\r\n                payload: {\r\n                    token: data.token,\r\n                    user: data.user,\r\n                },\r\n            });\r\n            localStorage.setItem('user', JSON.stringify(data));\r\n            navigate('/'); // Giriş başarılıysa yönlendirme\r\n        } catch (error) {\r\n            console.error(\"Giriş Hatası:\", error.message);\r\n            return error.message;\r\n        }\r\n    };\r\n\r\n    const Register = async (nameemail, password) => {\r\n        try {\r\n            const LoginFetch = await fetch('http://localhost:8080/api/user/login', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({ email, password }),\r\n            });\r\n\r\n            if (!LoginFetch.ok) {\r\n                const errorData = await LoginFetch.json();\r\n                throw new Error(errorData.message || \"Giriş başarısız oldu.\");\r\n            }\r\n\r\n            const data = await LoginFetch.json();\r\n            AuthDispatch({\r\n                type: 'LOGIN',\r\n                payload: {\r\n                    token: data.token,\r\n                    user: data.user,\r\n                },\r\n            });\r\n            localStorage.setItem('user', JSON.stringify(data));\r\n            navigate('/'); // Giriş başarılıysa yönlendirme\r\n        } catch (error) {\r\n            console.error(\"Giriş Hatası:\", error.message);\r\n            return error.message;\r\n        }\r\n    };\r\n    const Logout = () => {\r\n        AuthDispatch({ type: 'LOGOUT' });\r\n        localStorage.removeItem('user');\r\n        navigate('/login');\r\n    }\r\n\r\n    return {\r\n        AuthState,\r\n        Login,\r\n        Logout,\r\n    };\r\n};\r\n\r\nexport default useAuth;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}