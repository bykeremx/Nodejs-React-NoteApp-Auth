{"ast":null,"code":"var _s2 = $RefreshSig$();\nimport { useContext } from 'react';\nimport AuthContext from '../context/AuthContext';\nimport { useNavigate } from 'react-router';\nconst useAuth = () => {\n  _s2();\n  var _s = $RefreshSig$();\n  const {\n    AuthState,\n    AuthDispatch\n  } = useContext(AuthContext);\n  const Login = async (email, password) => {\n    _s();\n    //giriş işlemi yapılacak\n    //token alınacak ve context'e yüklencek\n\n    try {\n      const LoginFetch = await fetch('http://localhost:8080/api/user/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email,\n          password\n        })\n      });\n      if (!LoginFetch.ok) {\n        throw new Error('Kullanıcı adı veya şifre yanlış');\n      }\n      const data = await LoginFetch.json();\n      // her şey doğru ilerliyor ise \n      AuthDispatch({\n        type: 'LOGIN',\n        payload: {\n          token: data.token,\n          user: data.user\n        }\n      });\n      localStorage.setItem('token', data.token);\n      const {\n        na\n      } = useNavigate();\n    } catch (error) {\n      console.log(\"Giriş Yapılamadı Bir Sorun Oluştu ! \");\n    }\n  };\n  _s(Login, \"MUyqR2NyUTnLkF4qBFu5fIeG7QM=\", false, function () {\n    return [useNavigate];\n  });\n  return {\n    AuthState,\n    Login\n  };\n};\n_s2(useAuth, \"I50ahvpiV/EV2pDPD0/S3kFTWRw=\");\nexport default useAuth;","map":{"version":3,"names":["useContext","AuthContext","useNavigate","useAuth","_s2","_s","$RefreshSig$","AuthState","AuthDispatch","Login","email","password","LoginFetch","fetch","method","headers","body","JSON","stringify","ok","Error","data","json","type","payload","token","user","localStorage","setItem","na","error","console","log"],"sources":["C:/Users/mkere/Desktop/Mern-Stack-Uygulamaları/notUygulaması/frontend/src/hooks/useAuth.jsx"],"sourcesContent":["import {useContext} from 'react';\r\nimport AuthContext from '../context/AuthContext'\r\nimport { useNavigate } from 'react-router';\r\n\r\n\r\n\r\nconst useAuth = () => {\r\n    const {\r\n        AuthState,AuthDispatch\r\n    } = useContext(AuthContext);\r\n\r\n\r\n\r\n    const Login= async (email,password)=>{\r\n        //giriş işlemi yapılacak\r\n        //token alınacak ve context'e yüklencek\r\n\r\n        try {\r\n            const LoginFetch = await fetch('http://localhost:8080/api/user/login',{\r\n                method:'POST',\r\n                headers:{\r\n                    'Content-Type':'application/json'\r\n                },\r\n                body:JSON.stringify({\r\n                    email,\r\n                    password\r\n                })\r\n            });\r\n            if(!LoginFetch.ok){\r\n                throw new Error('Kullanıcı adı veya şifre yanlış');\r\n            }\r\n            const data = await LoginFetch.json();\r\n            // her şey doğru ilerliyor ise \r\n            AuthDispatch({\r\n                type:'LOGIN',\r\n                payload:{\r\n                    token:data.token,\r\n                    user:data.user\r\n                }\r\n            });\r\n            localStorage.setItem('token',data.token);\r\n            const {na} = useNavigate()\r\n\r\n\r\n        } catch (error) {\r\n\r\n            console.log(\"Giriş Yapılamadı Bir Sorun Oluştu ! \");\r\n            \r\n        }\r\n\r\n    }\r\n\r\n    return {\r\n        AuthState,\r\n        Login\r\n    }\r\n}\r\n\r\n\r\nexport default useAuth;"],"mappings":";AAAA,SAAQA,UAAU,QAAO,OAAO;AAChC,OAAOC,WAAW,MAAM,wBAAwB;AAChD,SAASC,WAAW,QAAQ,cAAc;AAI1C,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,GAAA;EAAA,IAAAC,EAAA,GAAAC,YAAA;EAClB,MAAM;IACFC,SAAS;IAACC;EACd,CAAC,GAAGR,UAAU,CAACC,WAAW,CAAC;EAI3B,MAAMQ,KAAK,GAAE,MAAAA,CAAOC,KAAK,EAACC,QAAQ,KAAG;IAAAN,EAAA;IACjC;IACA;;IAEA,IAAI;MACA,MAAMO,UAAU,GAAG,MAAMC,KAAK,CAAC,sCAAsC,EAAC;QAClEC,MAAM,EAAC,MAAM;QACbC,OAAO,EAAC;UACJ,cAAc,EAAC;QACnB,CAAC;QACDC,IAAI,EAACC,IAAI,CAACC,SAAS,CAAC;UAChBR,KAAK;UACLC;QACJ,CAAC;MACL,CAAC,CAAC;MACF,IAAG,CAACC,UAAU,CAACO,EAAE,EAAC;QACd,MAAM,IAAIC,KAAK,CAAC,iCAAiC,CAAC;MACtD;MACA,MAAMC,IAAI,GAAG,MAAMT,UAAU,CAACU,IAAI,CAAC,CAAC;MACpC;MACAd,YAAY,CAAC;QACTe,IAAI,EAAC,OAAO;QACZC,OAAO,EAAC;UACJC,KAAK,EAACJ,IAAI,CAACI,KAAK;UAChBC,IAAI,EAACL,IAAI,CAACK;QACd;MACJ,CAAC,CAAC;MACFC,YAAY,CAACC,OAAO,CAAC,OAAO,EAACP,IAAI,CAACI,KAAK,CAAC;MACxC,MAAM;QAACI;MAAE,CAAC,GAAG3B,WAAW,CAAC,CAAC;IAG9B,CAAC,CAAC,OAAO4B,KAAK,EAAE;MAEZC,OAAO,CAACC,GAAG,CAAC,sCAAsC,CAAC;IAEvD;EAEJ,CAAC;EAAA3B,EAAA,CArCKI,KAAK;IAAA,QA4BUP,WAAW;EAAA;EAWhC,OAAO;IACHK,SAAS;IACTE;EACJ,CAAC;AACL,CAAC;AAAAL,GAAA,CAlDKD,OAAO;AAqDb,eAAeA,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}